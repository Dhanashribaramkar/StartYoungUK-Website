{% extends 'base.html' %}
{% load static %}
{% block content %}
<style>
  .modal-content {
    padding: 20px;
  }
  .quick-donate-buttons {
    display: flex;
    justify-content: space-between;
  }
  .quick-donate-buttons > button {
    width: 25%;
    background-color: #e09f3a;
  }
  .fund-raisers {
    padding: 2em 0;
  }
  #login-link {
    color: #721c24;
    text-decoration: underline;
  }
</style>

<script>
  document.getElementById("nav-donate").classList.add("active");
</script>

<div class="block-31" style="position: relative;">
    <div class="owl-carousel loop-block-31 homepage-nav">
      <div class="block-30 block-30-sm item" style="background-image: url('/static/images/donate.jpg');" data-stellar-background-ratio="0.5">
        <div class="container">
          <div class="row align-items-center justify-content-center text-center">
            <div class="col-md-7">
              <h2 class="heading">Better To Give Than To Receive</h2>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="site-section fund-raisers" id="donate-money">
    <div class="container">
      {% if messages %}
        <div class="messages">
            {% for message in messages %}
              {% if message.tags == "error" %}
              <div class="alert alert-danger">
                  {{ message }}
              </div>
              {% else %}
              <div class="alert alert-{{ message.tags }}">
                  {{ message }}
              </div>
              {% endif %}
            {% endfor %}
        </div>
      </div>
    {% endif %}
      <div class="row mb-3 justify-content-center">
        <div class="col-md-8 text-center">
          <h2>Donate</h2>
          <p class="lead">Help a child by making a donation. No amount is small.</p>
        </div>
        </div>

        <p style="text-align: center;"><button style="max-width: 300px;" data-toggle="modal" data-target="#donate-form" class="btn btn-white px-3 py-2">Click here to Donate</button></p>
    </div>
  </div>

  <div class="site-section fund-raisers">
    <div class="container">
      <div class="row mb-3 justify-content-center">
        <div class="col-md-8 text-center">
          <h2>Donate in Kind</h2>
          <p class="lead">Donation is not all about money. You can donate in whatever way you can. Eg. books, clothes, your time with kids, food</p>
        </div>
        </div>
<input type="text" placeholder="Name">
<br>
<input type="email" placeholder="Email">
<br>
        <textarea placeholder="Input your comments here"></textarea>
        <button>Submit</button>
    </div>
  </div>

  <div class="modal fade" id="donate-form" tabindex="-1" role="dialog" aria-labelledby="donateModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header border-bottom-0">
          <h5 class="modal-title" id="donateModalLabel">Donation Details</h5>
          <button type="button" style="max-width: 50px;" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        {% load crispy_forms_tags %}
            {% if not user.is_authenticated %}
              <div class="form-group" style="margin-bottom: 0;">
                <div class="alert alert-danger" style="margin-bottom: 0;">
                  Unathenticated users have a maximum donation limit of £40. If you wish to donate more, please <a id="login-link" href="/login">sign in</a>.
                </div>
              </div>
            {% endif %}

            <form method="POST" class="post-form">
                {% csrf_token %}
                <fieldset class="form-group">
                    {{ form|crispy }}
                </fieldset>
                <div class="form-group quick-donate-buttons">
                  {% if user.is_authenticated %}
                  <button onclick="fillAmount(20)" type="button">£20</button>
                  <button onclick="fillAmount(50)" type="button">£50</button>
                  <button onclick="fillAmount(100)" type="button">£100</button>
                  {% else %}
                  <button onclick="fillAmount(5)" type="button">£5</button>
                  <button onclick="fillAmount(10)" type="button">£10</button>
                  <button onclick="fillAmount(40)" type="button">£40</button>
                  {% endif %}
              </div>
                <div class="form-group">
                    <button class="signup-btn btn btn-primary" type="submit">Donate</button>
                </div>                           
            </form>

<!-- Populate 'amount' field when a quick button is clicked -->
<script type="text/javascript">
  function fillAmount(amount) {
    document.getElementById("id_amount").value = amount
  }
</script>
      </div>
    </div>
  </div>

  {% endblock %}
