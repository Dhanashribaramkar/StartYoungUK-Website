{% extends 'base.html' %}
{% load static %}
{% block content %}

<li class="nav-item"><a href="{% url 'home-page' %}" class="nav-link">Home</a></li>
            <!-- <li class="nav-item"><a href="how-it-works.html" class="nav-link">How It Works</a></li> -->
            <li class="nav-item"><a href="{% url 'sponsor-us' %}" class="nav-link">Sponsor</a></li>
            <!-- <li class="nav-item"><a href="gallery.html" class="nav-link">Gallery</a></li> -->
            <li class="nav-item"><a href="#" class="nav-link">Login/Signup</a></li>
            <li class="nav-item"><a href="{% url 'about-us' %}" class="nav-link">About</a></li>
            <li class="nav-item active"><a href="{% url 'contact-us' %}" class="nav-link">Contact</a></li>
          </ul>
        </div>
      </div>
    </nav>
<div class="block-31" style="position: relative;">
    <div class="owl-carousel loop-block-31 ">
      <div class="block-30 block-30-sm item" style="background-image: url('/static/images/bg_2.jpg');" data-stellar-background-ratio="0.5">
        <div class="container">
          <div class="row align-items-center justify-content-center">
            <div class="col-md-7 text-center">
              <h2 class="heading">Get In Touch</h2>
            </div>
          </div>
        </div>
      </div>
      
    </div>
  </div>

  <div class="site-section">
    <div class="container">
      <div class="row block-9">
        <div class="col-md-6 pr-md-5">
          <form id="ajax-contact" name="google-sheet" method="POST">
            <div class="form-group">
              <input type="text" name="Name" id="Name" class="form-control px-3 py-3" placeholder="Your Name" required>
            </div>
            <div class="form-group">
              <input type="email" name="Email" id="Email" class="form-control px-3 py-3" placeholder="Your Email"required>
            </div>
            <div class="form-group">
              <input type="text" name="Subject" id="Subject" class="form-control px-3 py-3" placeholder="Subject" required>
            </div>
            <div class="form-group">
              <textarea name="Message" id="Message" cols="30" rows="7" class="form-control px-3 py-3" placeholder="Message..." required></textarea>
            </div>
            <div class="form-group">
              <button id="submit" name="Submit" type="submit" class="btn btn-primary py-3 px-5">Send Message</button>
            </div>
            <div id="snackbar"></div>
          </form>
        
        </div>

        <script>
          function showToast(message, color) {
            // Get the snackbar DIV
            var x = document.getElementById("snackbar");
            x.innerHTML = message;
            x.style.backgroundColor = color;

            // Add the "show" class to DIV
            x.className = "show";

            // After 3 seconds, remove the show class from DIV
            setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
          }
        </script>
        <script>
          const scriptURL = "https://script.google.com/macros/s/AKfycbyxIzRJZHPOhkWFX68jF_ngKiV1FbVwdbBlvpIJxiQ-jF7a1vDHTDZhWHUYua4-rfI88g/exec"
          const form = document.forms['google-sheet']
          
          form.addEventListener('submit', e => {
            e.preventDefault()
            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => showToast("Message sent successfully!", "green"))
            .catch(error => showToast("There was an error sending your message, please try again!", "red"))
          })
         </script>

        <div class="col-md-6" id="map"></div>
      </div>
    </div>
  </div>

 
  {% endblock %}
